generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  firstName String?
  lastName  String?
  phone     String?
  agreeToTerms       Boolean  @default(false)
  subscribeNewsletter Boolean @default(false)
  role      Role     @default(CUSTOMER)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Product {
  id          String   @id @default(cuid())
  name        String
  description String?
  priceCents  Int
  images      String[] @default([])
  inStock     Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

enum Role {
  CUSTOMER
  RETAILER
  WHOLESALER
  SERVICE_PROVIDER
  ADMIN
}

model SellerApplication {
  id                   String   @id @default(cuid())
  sellerRole           Role
  businessType         String
  applicantType        String
  firstName            String
  lastName             String
  email                String
  phone                String
  landline             String?
  identificationType   String
  businessName         String
  businessRegistration String?
  saIdNumber           String?
  vatRegistered        String
  vatNumber            String?
  monthlyRevenue       String?
  physicalStores       String?
  numberOfStores       String?
  supplierToRetailers  String?
  otherMarketplaces    String?
  address              String
  city                 String
  province             String
  postalCode           String
  uniqueProducts       String?
  primaryCategory      String
  stockType            String
  productDescription   String
  ownedBrands          String?
  resellerBrands       String?
  website              String?
  socialMedia          String?
  businessSummary      String
  howDidYouHear        String
  agreeToTerms         Boolean  @default(false)
  status               ApplicationStatus @default(PENDING)
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
}

enum ApplicationStatus {
  PENDING
  APPROVED
  REJECTED
}

model ContactMessage {
  id         String   @id @default(cuid())
  name       String
  email      String
  phone      String?
  subject    String
  message    String
  department String?
  createdAt  DateTime @default(now())
}

model NewsArticle {
  id          String   @id @default(cuid())
  title       String
  excerpt     String
  content     String
  author      String
  publishedAt DateTime
  readTime    Int
  category    String
  image       String
  featured    Boolean  @default(false)
  status      ArticleStatus @default(DRAFT)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

enum ArticleStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

model ServiceProviderApplication {
  id                  String   @id @default(cuid())
  firstName           String
  lastName            String
  email               String
  phone               String
  dateOfBirth         String?
  idNumber            String
  identificationType  String
  serviceCategories   String[]
  primaryService      String
  experience          String
  qualifications      String?
  portfolio           String?
  hourlyRate          String
  availability        String
  address             String
  city                String
  province            String
  postalCode          String
  serviceRadius       String
  transportMode       String
  businessName        String?
  businessRegistration String?
  vatRegistered       String?
  vatNumber           String?
  bankDetails         String?
  emergencyContact    String?
  workSamples         String?
  clientReferences    String?
  certifications      String?
  insurance           String?
  backgroundCheck     String?
  motivation          String
  goals               String?
  howDidYouHear       String
  agreeToTerms        Boolean  @default(false)
  agreeToBackground   Boolean  @default(false)
  status              ApplicationStatus @default(PENDING)
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}